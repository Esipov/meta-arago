# Wireless build targets
wireless: compat-modules
wireless_install: compat-modules_install
wireless_clean: compat-modules_clean

compat-modules: linux
	@echo ================================
	@echo      Building compat-modules
	@echo ================================
	@cd board-support/extra-drivers; \
	cd `find . -maxdepth 1 -name "*compat-wireless*"`; \
	./scripts/driver-select wl12xx; make DEPMOD=echo DESTDIR=${DESTDIR} KLIB_BUILD=${LINUXKERNEL_INSTALL_DIR} KLIB=${DESTDIR} CROSS_COMPILE=${CROSS_COMPILE} ARCH=arm

compat-modules_install:
	@echo ==================================
	@echo      Installing compat-modules
	@echo ==================================
	@cd board-support/extra-drivers; \
	cd `find . -maxdepth 1 -name "*compat-wireless*"`; \
	make DEPMOD=echo DESTDIR=${DESTDIR} KLIB_BUILD=${LINUXKERNEL_INSTALL_DIR} KLIB=${DESTDIR} INSTALL_MOD_PATH=${DESTDIR} CROSS_COMPILE=${CROSS_COMPILE} ARCH=arm install-modules

compat-modules_clean:
	@echo ================================
	@echo      Cleaning compat-wireless
	@echo ================================
	@cd board-support/extra-drivers; \
	cd `find . -maxdepth 1 -name "*compat-wireless*"`; \
	make DEPMOD=echo DESTDIR=${DESTDIR} KLIB_BUILD=${LINUXKERNEL_INSTALL_DIR} KLIB=${DESTDIR} CROSS_COMPILE=${CROSS_COMPILE} ARCH=arm clean
